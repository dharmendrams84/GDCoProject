<%-- Copyright (c) 2006, 2008, Oracle. All Rights Reserved. --%><%@ page language="java" contentType="text/html; charset=UTF-8" %><%@ taglib uri="http://struts.apache.org/tags-html" prefix="html" %><%@ taglib uri="http://struts.apache.org/tags-bean" prefix="bean" %><%@ taglib uri="http://struts.apache.org/tags-logic" prefix="logic" %><script language="javascript">function checkToRemoveGroup(groupCheckBox){    if (groupCheckBox.checked) {        groupCheckBox.form.remove[0].disabled=false;        groupCheckBox.form.remove[1].disabled=false;    } else {        allunchecked = true;        for (i=0;i<groupCheckBox.form.removedGroups.length;i++) {            if (groupCheckBox.form.removedGroups[i].checked) {                allunchecked = false;            }        }        if (allunchecked) {            groupCheckBox.form.remove[0].disabled=true;            groupCheckBox.form.remove[1].disabled=true;        }    }}</script><bean:define id="viewGroupsForm" name="viewGroupsForm" type="oracle.retail.stores.webmodules.admin.ui.ViewGroupsForm" /><% String disabled = viewGroupsForm.getRemovedGroups().length > 0 ? "" : "disabled"; %><html:form action="/employee/getNewGroupName.do">    <table width="100%" border="0" cellspacing="3" cellpadding="3">      <tr>        <td width="40%"><span class="pageheadercat"><bean:message  key="employee.viewgroups.heading"/></span></td>        <td class="smallprompt" valign="top">          <div align="right"> </div>        </td>      </tr>      <tr bgcolor="#CCCCCC">        <td colspan="2"></td>      </tr>      <tr>        <td class="smallprompt"><bean:message  key="employee.viewgroups.prompt"/></td>        <td valign="bottom">          <div align="right">            <% if (request.isUserInRole("permissions_add") || request.isUserInRole("permissions_remove")                   || request.isUserInRole("roles_permissions_add") || request.isUserInRole("roles_permissions_remove")) { %>            <table align="right" class="tableoutline" cellpadding="3" cellspacing="3">              <tr>                <td NOWRAP>                  <div align="right">                  <% if (request.isUserInRole("permissions_add")                         || request.isUserInRole("roles_permissions_add")) { %>                    <html:submit property="add">                        <bean:message  key="button.add"/>                    </html:submit>                  <% } %>                  <% if (request.isUserInRole("permissions_remove")                         || request.isUserInRole("roles_permissions_remove")) { %>                    <input type="submit" <%=disabled%> name="remove"                        value=" <bean:message key='button.remove' /> "                        onclick="form.action='<html:rewrite page="/employee/confirmGroupsRemoval.do"/>'"/>                  <% } %>                  </div>                </td>              </tr>            </table>            <% } %>          </div>        </td>      </tr>      <tr>        <td colspan="2">          <table width="100%" class="tableoutline">              <tr>                  <td><html:errors/></td>            </tr>            <tr>              <td>                <table width="100%" border="0" cellspacing="1" cellpadding="3">                  <tr>                  <% if (request.isUserInRole("permissions_remove")                         || request.isUserInRole("roles_permissions_remove")) { %>                    <td width="9%" class="tableheadrow"><bean:message  key="employee.viewgroups.row.select"/></td>                  <% } %>                    <td class="tableheadrow"><bean:message  key="employee.viewgroups.row.group"/></td>                  </tr>                    <logic:iterate id="workgroup" name="viewGroupsForm" property="roles">                      <tr>                      <% if (request.isUserInRole("permissions_remove")                             || request.isUserInRole("roles_permissions_remove")) { %>                        <td class="normal">                              <html:multibox property="removedGroups" onclick="checkToRemoveGroup(this);">                                <bean:write name="workgroup" property="ID"/>                            </html:multibox>                        </td>                      <% } %>                        <td class="normal">                            <html:link page="/employee/editGroup.do" paramId="workGroupID" paramName="workgroup" paramProperty="ID">                                <bean:write name="workgroup" property="name"/>                            </html:link>                        </td>                      </tr>                  </logic:iterate>                </table>              </td>            </tr>          </table>        </td>      </tr>      <tr>        <td colspan="2" valign="top">          <div align="right">            <% if (request.isUserInRole("permissions_add") || request.isUserInRole("permissions_remove")                   || request.isUserInRole("roles_permissions_add") || request.isUserInRole("roles_permissions_remove")) { %>            <table align="right" class="tableoutline" cellpadding="3" cellspacing="3">              <tr>                <td NOWRAP>                  <div align="right">                  <% if (request.isUserInRole("permissions_add")                         || request.isUserInRole("roles_permissions_add")) { %>                    <html:submit property="add">                        <bean:message  key="button.add"/>                    </html:submit>                  <% } %>                  <% if (request.isUserInRole("permissions_remove")                          || request.isUserInRole("roles_permissions_remove")) { %>                    <input type="submit" <%=disabled%> name="remove"                        value=" <bean:message key='button.remove' /> "                        onclick="form.action='<html:rewrite page="/employee/confirmGroupsRemoval.do"/>'"/>                  <% } %>                  </div>                </td>              </tr>            </table>            <% } %>          </div>        </td>      </tr>    </table></html:form><script>    document.forms[0].removedGroups[0].focus();</script>